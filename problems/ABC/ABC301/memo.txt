3つ違う

・1つ目
int n -> ll n

・2つ目
1 << i じゃなくて 1LL << i としないとだめらしい
C++の仕様は知らん自分で調べて

・3つ目
ループの仕方が違う（最初の rrep）

例
S = ?010??
N = 42(10) = 101010(2)

とすると、最初 sum には 001000(2) = 8(10) が入る
ビット演算で足していくなら、1 の位置のとき、i = 3 とならなければいけない （2^3 = 8）
rrep だと 5, 4, ... , 1, 0 の順でループするから、i = 2 になる
改善するには S を reverse するか、
rep(i, len){
    if(S[i] == '1') sum += 1LL << (len - 1 - i);
}
